# get_next_line

νμΌ λ””μ¤ν¬λ¦½ν„°(file descriptor)λ΅λ¶€ν„° ν• μ¤„μ„ μ½μ–΄λ“¤μ—¬ λ°ν™ν•λ” ν•¨μλ¥Ό κµ¬ν„ν•λ” κ³Όμ μ΄λ‹¤. μ •μ  λ³€μλΌλ” κ°λ…μ΄ λ“±μ¥ν•λ‹¤. λ™μ μΌλ΅ ν• λ‹Ήν• λ©”λ¨λ¦¬ κ΄€λ¦¬μ μ–΄λ ¤μ›€κ³Ό μ¤‘μ”μ„±μ„ λλ‚„ μ μλ” κ³Όμ μ€λ‹¤.

## π’΅ κ³µλ¶€ν• κ²ƒλ“¤

<details>
<summary><b>file descriptor</b></summary>
 
 - λ¦¬λ…μ¤μ—μ„μ νμΌ  λ””μ¤ν¬λ¦½ν„°λ” ν”„λ΅μ„Έμ¤μ—μ„ μ—΄λ¦° νμΌμ λ©λ΅μ„ κ΄€λ¦¬ν•λ” ν…μ΄λΈ”μ μΈλ±μ¤λ΅ νμΌ λ””μ¤ν¬λ¦½ν„°λ¥Ό μ΄μ©ν•΄ ν•΄λ‹Ή νμΌμ μ£Όμ†λ¥Ό μ°Έμ΅°ν•μ—¬ μ ‘κ·Όν•  μ μλ‹¤.
 - νμΌ λ””μ¤ν¬λ¦½ν„°λ” 0 μ΄μƒμ μ •μκ°’μ„ κ°€μ§€λ©° 0μ€ ν‘μ¤€ μ…λ ¥, 1μ€ ν‘μ¤€ μ¶λ ¥, 2λ” ν‘μ¤€ μ—λ¬λ΅ κΈ°λ³Έμ μΌλ΅ ν• λ‹Ήλλ‹¤.
 - λ”°λΌμ„ ν”„λ΅μ„Έμ¤μ—μ„ νμΌμ„ μ—΄λ©΄ 3λ²λ¶€ν„° μ°¨λ΅€λ€λ΅ ν• λ‹Ήλ°›κ² λλ‹¤.
 - μ°Έκ³ : [get_next_line](https://80000coding.oopy.io/4d3eba5f-5d2d-4bec-b0a2-fa058d67c643#56d19da82b7847a89d0eca867a9a2484)
<br>
</details>

<details>
<summary><b>μ •μ λ³€μ(static variable)</b></summary>

 - μ •μ λ³€μλ” μ „μ—­λ³€μμ²λΌ ν”„λ΅κ·Έλ¨μ΄ μ‹μ‘λ λ• λ©”λ¨λ¦¬μ— μƒμ„±λκ³  ν”„λ΅κ·Έλ¨μ΄ μΆ…λ£λ λ• μ†λ©Έλλ” λ³€μμ΄λ‹¤.
 - μ΄λ• μ΄κΈ°κ°’μ΄ μμΌλ©΄ Data μμ—­μ— μƒμ„±λκ³  μ΄κΈ°κ°’μ΄ μ—†μΌλ©΄ BSS μμ—­μ— μƒμ„±λμ–΄ μ΄κΈ°κ°’μΌλ΅ 0μ΄ λ“¤μ–΄κ°„λ‹¤κ³  ν•λ‹¤.
 - μ •μ λ³€μλ” λ‹¤μ‹ μ •μ  μ§€μ—­λ³€μμ™€ μ •μ  μ „μ—­λ³€μλ΅ λ‚λ‰λ”λ° μ •μ  μ§€μ—­λ³€μλ” ν•¨μμ μ¤‘κ΄„νΈ μ•μ—μ„λ§ μ‚¬μ©ν•  μ μκ³  μ •μ  μ „μ—­λ³€μλ” ν•΄λ‹Ή μ†μ¤νμΌ λ‚΄λ¶€μ—μ„λ§ μ‚¬μ©ν•  μ μλ‹¤.
 - λ”°λΌμ„ μ „μ—­λ³€μμ²λΌ extern ν‚¤μ›λ“λ¥Ό μ΄μ©ν•΄ μ™Έλ¶€ νμΌμ—μ„ μ°Έμ΅°ν•λ” κ²ƒμ΄ λ¶κ°€λ¥ν•λ‹¤.
 - μ •μ  λ³€μλ” μ΄κΈ°ν™”κ°€ ν•λ²λ§ μ§„ν–‰λλ―€λ΅ ν•¨μμ μ‹¤ν–‰μ΄ λλ‚κ³  λ‹¤μ‹ ν•¨μλ¥Ό νΈμ¶ν•΄λ„ κΈ°μ΅΄μ— κ°€μ§€κ³  μλ κ°’μ„ κ·Έλ€λ΅ κ°€μ§€κ³  μλ‹¤.
 - μ°Έκ³ : [cμ–Έμ–΄ μ •μ λ³€μ, μ§€μ—­λ³€μ, μ „μ—­λ³€μ λΉ„κµ (static, local, global)](https://code4human.tistory.com/128)
 - μ΄λ² κ³Όμ μ—μ„λ” μ„μ™€ κ°™μ€ μ •μ λ³€μμ νΉμ„±μ„ μ΄μ©ν•΄ ν¬μΈν„° λ³€μλ¥Ό μ •μ λ³€μλ΅ μ„ μ–Έν•μ—¬ μ‚¬μ©ν•λ‹¤. κ·Έλ°λ° μ£Όμν•  μ μ΄ μλ‹¤.
 - μ•„λμ™€ κ°™μ΄ ν¬μΈν„° λ³€μμ— λ™μ μΌλ΅ ν• λ‹Ήλ°›μ€ λ©”λ¨λ¦¬ μ£Όμ†λ¥Ό λ€μ…ν•λ©΄ ν•¨μλ¥Ό λ‹¤μ‹ νΈμ¶ν–μ„ λ• ν¬μΈν„° λ³€μμ— μ£Όμ†κ°’μ΄ λ‚¨μ•„μκ³  λ¬Έμμ—΄μ„ μ¶λ ¥ν• κ²°κ³Όλ„ λ™μΌν•λ‹¤.
 ```c
 #include <stdlib.h>
 #include <stdio.h>

 void test(void)
 {
	 static char *ptr;

	 if (!ptr)
	 {
		 ptr = (char *)malloc(sizeof(char) * 3);
		 ptr[0] = '4';
		 ptr[1] = '2';
		 ptr[2] = '\0';
	 }
	 printf("%p: %s\n", ptr, ptr);
 }

 void test2(void)
 {
	 char str[3] = "17";
 }

 int main(void)
 {
	 test();
	 test2();
	 test();
	 return (0);
 }
 ```
 > μ‹¤ν–‰ κ²°κ³Ό
 <img width="392" alt="get_next_line_1" src="https://user-images.githubusercontent.com/97381683/230557111-6f644c02-f04a-4498-8e19-cdf46159194e.png">
 
 - κ·Έλ¬λ‚ μ•„λμ™€ κ°™μ΄ ν¬μΈν„° λ³€μμ— μ •μ  λ°°μ—΄μ μ£Όμ†λ¥Ό λ€μ…ν•κ³  ν•¨μλ¥Ό λ‹¤μ‹ νΈμ¶ν•λ©΄ ν¬μΈν„° λ³€μμ μ£Όμ†κ°’μ€ κ·Έλ€λ΅μ§€λ§ λ¬Έμμ—΄μ„ μ¶λ ¥ν–μ„ λ•μ κ²°κ³Όκ°€ λ‹¬λΌμ§„ κ²ƒμ„ ν™•μΈν•  μ μλ‹¤.
 ```c
 #include <stdio.h>

 void test(void)
 {
	 char str[3];
	 static char *ptr;

	 if (!ptr)
	 {
		 ptr = str;
		 ptr[0] = '4';
		 ptr[1] = '2';
		 ptr[2] = '\0';
	 }
	 printf("%p: %s\n", ptr, ptr);
 }

 void test2(void)
 {
	 char str[3] = "17";
 }

 int main(void)
 {
	 test();
	 test2();
	 test();
	 return (0);
 }
 ```
 > μ‹¤ν–‰ κ²°κ³Ό
 <img width="348" alt="get_next_line_2" src="https://user-images.githubusercontent.com/97381683/230560023-06691abc-2f33-4881-b3cd-4e4c1970df7b.png">
 
 > <b>π’΅ ν¬μΈν„° λ³€μλ” μ •μ λ³€μλ΅ μ„ μ–Έν–μΌλ―€λ΅ κ°€μ§€κ³  μλ” μ£Όμ†κ°€ μ μ§€λμ§€λ§ μ¤νƒ μμ—­μ— μƒμ„±λ ν•¨μμ μ§€μ—­λ³€μλ” ν•¨μ μ‹¤ν–‰μ΄ λλ‚λ©΄ λ©”λ¨λ¦¬κ°€ λ°ν™λλ‹¤. λ”°λΌμ„ λ‹¤λ¥Έ ν•¨μλ¥Ό νΈμ¶ν•  λ• ν•΄λ‹Ή μ£Όμ†μ— λ‹¤λ¥Έ κ°’μ΄ λ®μ–΄μ”μ›μ§ μ μλ” κ²ƒμ΄λ‹¤. λ°λ©΄ ν™ μμ—­μ— λ™μ μΌλ΅ ν• λ‹Ήλ λ³€μλ” λ…μ‹μ μΌλ΅ λ™μ  ν• λ‹Ήμ„ ν•΄μ ν•΄μ£Όμ§€ μ•λ” μ΄μƒ μλ…μ΄ μ μ§€λλ―€λ΅ μ£Όμ†κ°’μ„ κ°€μ§€κ³  μμΌλ©΄ λ‹¤μ‹ μ ‘κ·Όν•  μ μλ‹¤. λ”°λΌμ„ ν¬μΈν„° λ³€μλ¥Ό μ •μ λ³€μλ΅ μ„ μ–Έν• λ•λ” λ°°μ—΄μ΄λ‚ κµ¬μ΅°μ²΄λ¥Ό λ™μ μΌλ΅ ν• λ‹Ήν•΄μ•Ό ν•λ‹¤.</b>
<br>
</details>

<details>
<summary><b>μ¤νƒ μμ—­ vs ν™ μμ—­</b></summary>

 - κ³Όμ λ¥Ό ν•λ©΄μ„ μ²μμ—λ” λ²„νΌλ¥Ό μ •μ  λ°°μ—΄λ΅ λ§λ“¤μ–΄ μ‚¬μ©ν•μ€λ”λ° λ™κΈ°μ—κ² μ •μ  λ°°μ—΄μ„ μ‚¬μ©ν•λ©΄ λ²„νΌ ν¬κΈ°κ°€ μ»¤μ§λ• μ—λ¬κ°€ λ°μƒν•  μ μλ‹¤λ” λ§μ„ λ“¤μ—κ³  μ‹¤μ λ΅ κ·Έλ° κ²ƒμ„ ν™•μΈν•μ€λ‹¤.
 - μ•„λμ μ½”λ“λ¥Ό μ‹¤ν–‰ν•λ©΄ μ»΄νμΌμ€ λμ§€λ§ segmentation faultκ°€ λ°μƒν–λ‹¤.
 ```c
 #define ARR_SIZE 9000000

 int main(void)
 {
	 char arr[ARR_SIZE];

	 arr[0] = 0;
	 return (0);
 }

  int main(void)
  {
	  test(0);
	  return (0);
  }
 ```
 > μ‹¤ν–‰ κ²°κ³Ό
 <img width="491" alt="ft_printf_1" src="https://user-images.githubusercontent.com/97381683/230554949-1e791700-e572-4a13-b1d8-9f6b43f5d7fd.png">

<br>
</details>
